webpackJsonp([7],{"0tCa":function(t,e){},"k+Ja":function(t,e){},yObL:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("mvHQ"),r=o.n(a),s=o("PJh5"),i=o.n(s),n=o("0dX7"),l={name:"HorizontalTimeline",props:{track:Array},mounted:function(){}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeline-container"},[o("div",{staticClass:"timeline"},t._l(t.track,function(e,a){return o("div",{key:a,staticClass:"container",class:{left:a%2==0,right:a%2!=0,done:e.done}},[o("div",{staticClass:"content"},[o("h6",[o("span",{directives:[{name:"show",rawName:"v-show",value:!e.done,expression:"!record.done"}]},[t._v("~")]),t._v(t._s(e.time))]),t._v(" "),o("small",[t._v(t._s(e.note))])])])}))])},staticRenderFns:[]};var d=o("VU/8")(l,c,!1,function(t){o("0tCa")},"data-v-c4ad4230",null).exports,v=o("MkMM"),u={name:"ProductDetailPage",components:{HorizontalTimeline:d},data:function(){return{reorderEditing:!1,autoReorderiEditing:!1,newReorder:{date:i()().format("YYYY-MM-DD"),units:20,supplier:"",shipTo:""},autoNewReorder:{lowUnits:50,supplier:"",shipTo:"",when:{condition:"stock",operator:"<=",value:"15"}},suppliers:n.e}},computed:{item:function(){var t=this.$store.getters.getItem(this.$route.params.id);return console.log("result="+r()(t)),t||{}},itemAutoOrderConfig:function(){return this.item.reorder.autoOrderConfig},stockLevels:function(){return n.c},eta:function(){return i()(this.newReorder.date).add(3,"days").format("MMM DD, YYYY")},dynamicInputType:function(){var t=this.autoNewReorder.when.condition;return"Date"===t?"date":"Stock"===t||"Active Orders"===t?"number":"text"}},methods:{toDateString:function(t){return i()(t).format("MMM DD, YYYY")},cost:function(t){return"$"+(this.item.cpu*t).toFixed(2)},resetNewReorder:function(){this.newReorder={date:i()().format("YYYY-MM-DD"),units:20,supplier:"",shipTo:""},this.reorderEditing=!1},resetAutoNewReorder:function(){this.autoNewReorder={lowUnits:20,supplier:"",shipTo:"",when:{condition:"",operator:"",value:""}},this.autoReorderiEditing=!1},placeReorder:function(){this.$store.dispatch(v.a.action.addNewReorder,{item:this.item,reorder:this.newReorder}),this.reorderEditing=!1},placeAutoReorder:function(t){t?this.$store.dispatch(v.a.action.setAutoNewReorder,{item:this.item,autoOrderConfig:this.autoNewReorder,autoReplenishment:!0}):this.$store.dispatch(v.a.action.setAutoNewReorder,{item:this.item,autoOrderConfig:{},autoReplenishment:!1}),this.resetAutoNewReorder()}}},_={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-lg-6"},[o("div",{staticClass:"card p-details"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"badge float-right",class:{"badge-warning":t.item.stockLevel===t.stockLevels.LOW_STOCK,"badge-danger":t.item.stockLevel===t.stockLevels.STOCKOUT,"badge-success":t.item.stockLevel===t.stockLevels.NORMAL_STOCK}},[t._v("\n            "+t._s(t.item.stockLevel)+"\n          ")]),t._v(" "),o("h5",{staticClass:"card-title mb-5"},[t._v("Product Details")]),t._v(" "),o("div",{staticClass:"title"},[t._v(t._s(t.item.title))]),t._v(" "),o("div",{staticClass:"photos"},t._l(t.item.photos,function(t,e){return o("img",{key:e,attrs:{src:t}})})),t._v(" "),o("table",{staticClass:"table"},[o("tr",[o("td",[o("div",{staticClass:"icon bg-blue-200"},[o("font-awesome-icon",{attrs:{icon:"th-large"}})],1),t._v("\n                Stock on hand\n              ")]),t._v(" "),o("td",[t._v(t._s(t.item.quantity))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-purple-200"},[o("font-awesome-icon",{attrs:{icon:"barcode"}})],1),t._v("\n                SKU\n              ")]),t._v(" "),o("td",[t._v(t._s(t.item.sku))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-cyan-200"},[o("font-awesome-icon",{attrs:{icon:"map-pin"}})],1),t._v("\n                Location\n              ")]),t._v(" "),o("td",[t._v(t._s(t.item.location))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-orange-600"},[o("font-awesome-icon",{attrs:{icon:"hand-holding-usd"}})],1),t._v("\n                Total Value\n              ")]),t._v(" "),o("td",[t._v("$"+t._s(t.item.totalValue))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-green-200"},[o("font-awesome-icon",{attrs:{icon:"coins"}})],1),t._v("\n                Cost Per Unit\n              ")]),t._v(" "),o("td",[t._v(t._s(t.item.cpu))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-deep-purple-200"},[o("font-awesome-icon",{attrs:{icon:"tag"}})],1),t._v("\n                Sales Price\n              ")]),t._v(" "),o("td",[t._v(t._s(t.item.price))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-lime-500"},[o("font-awesome-icon",{attrs:{icon:"th-large"}})],1),t._v("\n                Total Sold Unit\n              ")]),t._v(" "),o("td",[t._v(t._s(t.item.totalSold.unit))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-indigo-200"},[o("font-awesome-icon",{attrs:{icon:"dollar-sign"}})],1),t._v("\n                Total Revenue\n              ")]),t._v(" "),o("td",[t._v(t._s(t.item.totalSold.revenue))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-yellow-600"},[o("font-awesome-icon",{attrs:{icon:"industry"}})],1),t._v("\n                Supplier\n              ")]),t._v(" "),o("td",[t._v(t._s(t.item.supplier))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-pink-200"},[o("font-awesome-icon",{attrs:{icon:"undo"}})],1),t._v("\n                Returns\n              ")]),t._v(" "),o("td",[t._v(t._s(t.item.returns))])]),t._v(" "),o("tr",[o("td",[o("div",{staticClass:"icon bg-light-blue-200"},[o("font-awesome-icon",{attrs:{icon:"calendar-check"}})],1),t._v("\n                Last sold\n              ")]),t._v(" "),o("td",[t._v(t._s(t.toDateString(t.item.lastSoldDate)))])])])])])]),t._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("div",{staticClass:"d-flex flex-column"},[o("div",{staticClass:"card"},[t.reorderEditing?o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title"},[t._v("Reorder")]),t._v(" "),o("div",{staticClass:"card-subtitle text-muted"},[t._v("Editing new order")]),t._v(" "),o("form",{staticClass:"mt-5"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col form-group"},[o("label",[t._v("Date")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newReorder.date,expression:"newReorder.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.newReorder.date},on:{input:function(e){e.target.composing||t.$set(t.newReorder,"date",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col form-group"},[o("label",[t._v("Units")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newReorder.units,expression:"newReorder.units"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.newReorder.units},on:{input:function(e){e.target.composing||t.$set(t.newReorder,"units",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col form-group"},[o("label",[t._v("Supplier")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.newReorder.supplier,expression:"newReorder.supplier"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newReorder,"supplier",e.target.multiple?o:o[0])}}},[o("option",{attrs:{disabled:"",value:""}},[t._v("Choose a supplier")]),t._v(" "),t._l(t.suppliers,function(e,a){return o("option",{key:a},[t._v(t._s(e))])})],2)]),t._v(" "),o("div",{staticClass:"col form-group"},[o("label",[t._v("Ship to")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.newReorder.shipTo,expression:"newReorder.shipTo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newReorder,"shipTo",e.target.multiple?o:o[0])}}},[o("option",{attrs:{disabled:"",value:""}},[t._v("Choose a warehouse")]),t._v(" "),o("option",{attrs:{value:"W1"}},[t._v("Warehouse 1 - W1")])])])])]),t._v(" "),o("div",{staticClass:"card-text my-2"},[t._v("Order Summary")]),t._v(" "),o("table",{staticClass:"table table-borderless cost-table"},[o("tr",[o("td",[t._v("Supplier Page")]),t._v(" "),o("td",[o("a",{attrs:{href:"/#/external?id="+t.item.id+"-"+t.newReorder.supplier.toLowerCase(),target:"_blank"}},[t._v("\n                    "+t._s(t.newReorder.supplier)+"\n                  ")])])]),t._v(" "),o("tr",[o("td",[t._v("Estimated Delivery")]),t._v(" "),o("td",[t._v(t._s(t.eta))])]),t._v(" "),o("tr",[o("td",[t._v("Cost")]),t._v(" "),o("td",[t._v(t._s(t.cost(t.newReorder.units)))])])]),t._v(" "),o("div",{staticClass:"d-flex justify-content-end"},[o("button",{staticClass:"btn btn-link text-danger",attrs:{type:"button"},on:{click:function(e){t.resetNewReorder()}}},[t._v("Cancel")]),t._v(" "),o("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){t.placeReorder()}}},[t._v("Order")])])]):t.item.reorder.transactions.activeTransactions>=1?o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title"},[t._v("Reorder")]),t._v(" "),o("div",{staticClass:"card-subtitle text-muted"},[t._v("\n              You have "+t._s(t.item.reorder.transactions.activeTransactions)+"\n              order"+t._s(t.item.reorder.transactions.activeTransactions>1?"s":"")+" in transit\n            ")]),t._v(" "),t._l(t.item.reorder.transactions.tracks,function(t,e){return o("horizontal-timeline",{key:e,staticClass:"mt-4",attrs:{track:t}})}),t._v(" "),o("button",{staticClass:"btn btn-link mt-5 pl-0",attrs:{type:"button"},on:{click:function(e){t.reorderEditing=!0}}},[t._v("New Order")])],2):0===t.item.reorder.transactions.activeTransactions?o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title"},[t._v("Reorder")]),t._v(" "),o("div",{staticClass:"card-subtitle text-muted"},[t._v("No reorder has been placed.")]),t._v(" "),o("button",{staticClass:"btn btn-link mt-5 pl-0",attrs:{type:"button"},on:{click:function(e){t.reorderEditing=!0}}},[t._v("New Order")])]):t._e()]),t._v(" "),o("div",{staticClass:"card"},[t.autoReorderiEditing?o("div",{staticClass:"card-body"},[o("span",{staticClass:"badge badge-danger float-right"},[t._v("OFF")]),t._v(" "),o("h5",{staticClass:"card-title"},[t._v("Auto Reorder")]),t._v(" "),o("div",{staticClass:"card-subtitle text-muted"},[t._v("Creating auto order rule")]),t._v(" "),o("form",{staticClass:"mt-5"},[o("div",{staticClass:"row form-group"},[o("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Order")]),t._v(" "),o("div",{staticClass:"col-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.autoNewReorder.lowUnits,expression:"autoNewReorder.lowUnits"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.autoNewReorder.lowUnits},on:{input:function(e){e.target.composing||t.$set(t.autoNewReorder,"lowUnits",e.target.value)}}})]),t._v(" "),o("span",{staticClass:"pt-2"},[t._v("units")])]),t._v(" "),o("div",{staticClass:"row form-group"},[o("label",{staticClass:"col-sm-2 col-form-label"},[t._v("From")]),t._v(" "),o("div",{staticClass:"col-sm-10"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.autoNewReorder.supplier,expression:"autoNewReorder.supplier"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.autoNewReorder,"supplier",e.target.multiple?o:o[0])}}},[o("option",{attrs:{disabled:"",value:""}},[t._v("Choose a supplier")]),t._v(" "),t._l(t.suppliers,function(e,a){return o("option",{key:a},[t._v(t._s(e))])})],2)])]),t._v(" "),o("div",{staticClass:"row form-group"},[o("label",{staticClass:"col-sm-2 col-form-label"},[t._v("To")]),t._v(" "),o("div",{staticClass:"col-sm-10"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.autoNewReorder.shipTo,expression:"autoNewReorder.shipTo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.autoNewReorder,"shipTo",e.target.multiple?o:o[0])}}},[o("option",{attrs:{disabled:"",value:""}},[t._v("Choose a warehouse")]),t._v(" "),o("option",{attrs:{value:"W1"}},[t._v("Warehouse 1 - W1")])])])]),t._v(" "),o("div",{staticClass:"row form-group"},[o("label",{staticClass:"col-sm-2 col-form-label"},[t._v("When")]),t._v(" "),o("div",{staticClass:"col-sm-4"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.autoNewReorder.when.condition,expression:"autoNewReorder.when.condition"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.autoNewReorder.when,"condition",e.target.multiple?o:o[0])}}},[o("option",{attrs:{selected:""}},[t._v("Date")]),t._v(" "),o("option",[t._v("Stock")]),t._v(" "),o("option",[t._v("Active Orders")])])]),t._v(" "),o("div",{staticClass:"col-sm-6"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.autoNewReorder.when.operator,expression:"autoNewReorder.when.operator"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.autoNewReorder.when,"operator",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"="}},[t._v("is equal to")]),t._v(" "),o("option",{attrs:{value:"!="}},[t._v("is not equal to")]),t._v(" "),o("option",{attrs:{value:">"}},[t._v("is greater than")]),t._v(" "),o("option",{attrs:{value:">="}},[t._v("is greater or equal to")]),t._v(" "),o("option",{attrs:{value:"<"}},[t._v("is less than")]),t._v(" "),o("option",{attrs:{value:"<="}},[t._v("is less or equal to")])])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"offset-sm-2"}),t._v(" "),o("div",{staticClass:"col-10"},["checkbox"===t.dynamicInputType?o("input",{directives:[{name:"model",rawName:"v-model",value:t.autoNewReorder.when.value,expression:"autoNewReorder.when.value"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.autoNewReorder.when.value)?t._i(t.autoNewReorder.when.value,null)>-1:t.autoNewReorder.when.value},on:{change:function(e){var o=t.autoNewReorder.when.value,a=e.target,r=!!a.checked;if(Array.isArray(o)){var s=t._i(o,null);a.checked?s<0&&t.$set(t.autoNewReorder.when,"value",o.concat([null])):s>-1&&t.$set(t.autoNewReorder.when,"value",o.slice(0,s).concat(o.slice(s+1)))}else t.$set(t.autoNewReorder.when,"value",r)}}}):"radio"===t.dynamicInputType?o("input",{directives:[{name:"model",rawName:"v-model",value:t.autoNewReorder.when.value,expression:"autoNewReorder.when.value"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:t._q(t.autoNewReorder.when.value,null)},on:{change:function(e){t.$set(t.autoNewReorder.when,"value",null)}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:t.autoNewReorder.when.value,expression:"autoNewReorder.when.value"}],staticClass:"form-control",attrs:{type:t.dynamicInputType},domProps:{value:t.autoNewReorder.when.value},on:{input:function(e){e.target.composing||t.$set(t.autoNewReorder.when,"value",e.target.value)}}})])])]),t._v(" "),o("div",{staticClass:"d-flex justify-content-end mt-5"},[o("button",{staticClass:"btn btn-link text-danger",attrs:{type:"button"},on:{click:function(e){t.resetAutoNewReorder()}}},[t._v("Cancel")]),t._v(" "),o("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){t.placeAutoReorder(!0)}}},[t._v("Save")])])]):t.item.reorder.autoReplenishment?o("div",{staticClass:"card-body"},[o("span",{staticClass:"badge badge-success float-right"},[t._v("ON")]),t._v(" "),o("h5",{staticClass:"card-title"},[t._v("Auto Reorder")]),t._v(" "),o("div",{staticClass:"card-subtitle text-muted"},[t._v("Reorder is automated")]),t._v(" "),o("div",{staticClass:"mt-5"},[t._v("\n              Order "),o("strong",[t._v(t._s(t.itemAutoOrderConfig.lowUnits))]),t._v("\n              units when "),o("strong",[t._v(t._s(t.itemAutoOrderConfig.when.condition)+"\n              "+t._s(t.itemAutoOrderConfig.when.operator)+"\n              "+t._s("Date"===t.itemAutoOrderConfig.when.condition?t.toDateString(t.itemAutoOrderConfig.when.value):t.itemAutoOrderConfig.when.value))]),t._v("\n              from "),o("strong",[t._v(t._s(t.itemAutoOrderConfig.supplier))]),t._v(" to\n              "),o("strong",[t._v(t._s(t.itemAutoOrderConfig.shipTo))])]),t._v(" "),o("button",{staticClass:"btn btn-link text-danger mt-2 pl-0",attrs:{type:"button"},on:{click:function(e){t.placeAutoReorder(!1)}}},[t._v("Cancel")])]):t.item.reorder.autoReplenishment?t._e():o("div",{staticClass:"card-body"},[o("span",{staticClass:"badge badge-danger float-right"},[t._v("OFF")]),t._v(" "),o("h5",{staticClass:"card-title"},[t._v("Auto Reorder")]),t._v(" "),o("div",{staticClass:"card-subtitle text-muted"},[t._v("\n              Auto Reorder is not enabled. You may risk stockout for this product.\n            ")]),t._v(" "),o("button",{staticClass:"btn btn-link mt-5 pl-0",attrs:{type:"button"},on:{click:function(e){t.autoReorderiEditing=!0}}},[t._v("Setup")])])])])])])])},staticRenderFns:[]};var m=o("VU/8")(u,_,!1,function(t){o("k+Ja")},"data-v-70402bca",null);e.default=m.exports}});
//# sourceMappingURL=7.12f456befdf25523d2c6.js.map